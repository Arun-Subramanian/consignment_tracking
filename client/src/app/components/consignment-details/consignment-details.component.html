<app-menubar></app-menubar>
<div id="main-container">
  <h3>{{ screenTitle }}</h3>
  <div class="error-block" color="danger" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>
  <div id="consigment-number-container" *ngIf="!isNewConsignment">
    <form
      [formGroup]="consignmentNumberForm"
      (ngSubmit)="onRetrieveDetail(consignmentNumberForm.value)"
    >
      <mat-form-field>
        <input
          matInput
          type="text"
          autocomplete="off"
          autofocus
          formControlName="consignmentNumber"
          placeholder="Consignment Number"
          required
        />
      </mat-form-field>
      <button mat-raised-button color="primary" class="button" type="submit">
        Retrieve Details
      </button>
    </form>
  </div>
  <div id="data-entry-container">
    <mat-card>
      <mat-card-content>
        <form
          [formGroup]="contractForm"
          (ngSubmit)="onFormSubmit(contractForm.value)"
          id="contract-form"
        >
          <mat-tab-group dynamicHeight>
            <mat-tab label="Contract Details">
              <div>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    type="text"
                    autocomplete="off"
                    formControlName="contractNumber"
                    placeholder="Contract Number"
                    required
                  />
                </mat-form-field>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    [matDatepicker]="contractDatePicker"
                    formControlName="contractDate"
                    placeholder="Contract date"
                    required
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="contractDatePicker"
                  ></mat-datepicker-toggle>
                  <mat-datepicker touchUi #contractDatePicker></mat-datepicker>
                </mat-form-field>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    [matDatepicker]="businessDatePicker"
                    placeholder="Business date"
                    formControlName="businessDate"
                    required
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="businessDatePicker"
                  ></mat-datepicker-toggle>
                  <mat-datepicker touchUi #businessDatePicker></mat-datepicker>
                </mat-form-field>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    type="text"
                    placeholder="Company Name"
                    formControlName="companyName"
                    required
                  />
                </mat-form-field>
              </div>
              <div>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    type="text"
                    placeholder="Material"
                    formControlName="material"
                    required
                  />
                </mat-form-field>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    type="number"
                    formControlName="price"
                    placeholder="Price"
                    required
                  />
                </mat-form-field>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    type="number"
                    formControlName="quantity"
                    placeholder="Quantity"
                    required
                  />
                </mat-form-field>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    type="text"
                    formControlName="paymentTerms"
                    placeholder="Payment Terms"
                    required
                  />
                </mat-form-field>
              </div>
              <div>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    type="number"
                    formControlName="advancePaid"
                    placeholder="Advance to be paid"
                  />
                </mat-form-field>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    [matDatepicker]="advanceDatePicker"
                    formControlName="advancePaidDate"
                    placeholder="Advance paid date"
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="advanceDatePicker"
                  ></mat-datepicker-toggle>
                  <mat-datepicker touchUi #advanceDatePicker></mat-datepicker>
                </mat-form-field>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    type="number"
                    formControlName="contractQuantity"
                    placeholder="Contract Quantity"
                    required
                  />
                </mat-form-field>
              </div>
            </mat-tab>
            <mat-tab label="Invoice Details">
              <div>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    [matDatepicker]="invoiceDatePicker"
                    formControlName="invoiceDate"
                    placeholder="Invoice date"
                  />
                  <mat-datepicker-toggle
                    matSuffix
                    [for]="invoiceDatePicker"
                  ></mat-datepicker-toggle>
                  <mat-datepicker touchUi #invoiceDatePicker></mat-datepicker>
                </mat-form-field>
              </div>
              <div>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    type="text"
                    formControlName="invoiceNumber"
                    placeholder="Invoice Number"
                  />
                </mat-form-field>
              </div>
              <div>
                <mat-form-field class="inputField">
                  <input
                    matInput
                    type="number"
                    formControlName="invoiceValue"
                    placeholder="Invoice Value"
                  />
                </mat-form-field>
              </div>
            </mat-tab>
            <mat-tab label="Shipment Details">
              <div id="shipping-tab">
                <div>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      type="number"
                      formControlName="shippingQuantity"
                      placeholder="Shipping Quantity"
                      required
                    />
                  </mat-form-field>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      type="number"
                      formControlName="noOfContainers"
                      placeholder="Number of Containers"
                      required
                    />
                  </mat-form-field>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      type="text"
                      formControlName="containerNumber"
                      placeholder="Container numbers"
                    />
                  </mat-form-field>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      type="text"
                      formControlName="loadingPort"
                      placeholder="Loading Port"
                    />
                  </mat-form-field>
                </div>
                <div>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      [matDatepicker]="OBLDatePicker"
                      placeholder="OBL Date"
                      formControlName="oblDate"
                    />
                    <mat-datepicker-toggle
                      matSuffix
                      [for]="OBLDatePicker"
                    ></mat-datepicker-toggle>
                    <mat-datepicker touchUi #OBLDatePicker></mat-datepicker>
                  </mat-form-field>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      type="text"
                      formControlName="oblNumber"
                      placeholder="OBL Number"
                    />
                  </mat-form-field>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      type="text"
                      formControlName="psicDetail"
                      placeholder="PSIC Details"
                    />
                  </mat-form-field>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      type="text"
                      formControlName="dhlDetail"
                      placeholder="DHL"
                    />
                  </mat-form-field>
                </div>
                <div>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      type="text"
                      placeholder="Shipping Line"
                      formControlName="shippingLine"
                      requried
                    />
                  </mat-form-field>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      type="number"
                      formControlName="eta"
                      placeholder="ETA"
                      required
                    />
                  </mat-form-field>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      type="text"
                      formControlName="placeOfDelivery"
                      placeholder="Place of Delivery"
                      required
                    />
                  </mat-form-field>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      [matDatepicker]="dischargeDatePicker"
                      placeholder="Discharge Date"
                      formControlName="dischargeDate"
                    />
                    <mat-datepicker-toggle
                      matSuffix
                      [for]="dischargeDatePicker"
                    ></mat-datepicker-toggle>
                    <mat-datepicker
                      touchUi
                      #dischargeDatePicker
                    ></mat-datepicker>
                  </mat-form-field>
                  <mat-form-field class="inputField">
                    <input
                      matInput
                      type="text"
                      formControlName="sailingTime"
                      placeholder="Sailing time"
                      required
                    />
                  </mat-form-field>
                  <button
                    mat-raised-button
                    color="primary"
                    type="submit"
                    class="buttons"
                  >
                    Save
                  </button>
                  <button mat-raised-button color="warn" class="buttons">
                    Cancel
                  </button>
                </div>
              </div>
            </mat-tab>
          </mat-tab-group>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>
